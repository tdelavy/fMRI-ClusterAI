# fMRI Cluster Analysis Web Application

This application leverages Streamlit, AFNI, and the OpenAI o1 model to facilitate anatomical labeling and interpretation of fMRI cluster data.

---

## âš™ï¸ How it works

1. **Cluster File Input**:
   - Accepts `.1D` files generated by AFNI or `.m` files from SPM (converted internally).

2. **Atlas-Based Anatomical Labeling**:
   - Uses standard atlases (Julich_MNI2009c, FS.afni.MNI2009c_asym) provided by AFNI.
   - Label clusters using `whereami` tool from AFNI.

3. **Detailed interpretation** generated by the **OpenAI o1-high model**.

---

## ğŸ“Œ **Prerequisites**

### AFNI Installation

This app requires AFNI installed on your local system.

- [**Install AFNI**](https://afni.nimh.nih.gov/pub/dist/doc/htmldoc/background_install/install_instructs/index.html)

Verify installation:
```bash
whereami -help
```

---

## ğŸ”§ Installation

### 1. Clone this Repository
```bash
git clone https://github.com/your_username/your_repo.git
cd your_repo
```

### 2. Install Dependencies
Create a Python environment (recommended) and install dependencies:

```bash
pip install -r requirements.txt
```

### 2. Set your OpenAI API Key

Replace `your-user-specific-key-here` with your actual OpenAI API key.

- **macOS/Linux:**

Edit your shell configuration file (e.g., `.bashrc` or `.zshrc`):

```bash
export OPENAI_API_KEY="your-user-specific-key-here"
source ~/.zshrc  # or source ~/.bashrc
```

- **Windows:**

Open Command Prompt and run:

```cmd
setx OPENAI_API_KEY "your-user-specific-key-here"
```

*(Restart your terminal or computer to apply changes.)*

### 2. Install Dependencies

Ensure you have Python 3.10+ installed. Then install dependencies:
```bash
pip install -r requirements.txt
```

---

## ğŸš€ Running the Streamlit App

To start the app locally:
```bash
streamlit run AI.py
```

The app will open automatically in your web browser at:
```
http://localhost:8501
```

---

## ğŸ“‚ Folder Structure

```
.
â”œâ”€â”€ AI.py                 # Streamlit App
â”œâ”€â”€ requirements.txt       # Python dependencies
â”œâ”€â”€ Julich_MNI2009c.nii.gz       # Required AFNI Atlas
â”œâ”€â”€ FS.afni.MNI2009c_asym.nii.gz # Required AFNI Atlas
â”œâ”€â”€ extract_spm_peaks.py         # Optional utility to convert SPM .m files
â”œâ”€â”€ Julich_MNI2009c_Atlas.png
â””â”€â”€ FS.afni.MNI2009c_asym_Atlas.png
```

---

